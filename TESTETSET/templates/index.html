{% extends "base.html" %}

{% block title %}ãƒ›ãƒ¼ãƒ  - æ²ç¤ºæ¿{% endblock %}

{% block content %}
<div class="page-header">
    <h2>ğŸ“‹ æŠ•ç¨¿ä¸€è¦§</h2>
    <p class="subtitle">å…¨{{ posts|length }}ä»¶ã®æŠ•ç¨¿</p>
</div>

{% if posts %}
    <div class="posts-container">
        {% for post in posts %}
        <article class="post-card">
            <div class="post-header">
                <h3 class="post-title">{{ post.title }}</h3>
                <div class="post-meta">
                    <span class="author">ğŸ‘¤ {{ post.author }}</span>
                    <span class="date">ğŸ“… {{ post.created_at[:10] }} {{ post.created_at[11:16] }}</span>
                </div>
            </div>
            
            <div class="post-content">
                {{ post.content|replace('\n', '<br>')|safe }}
            </div>
            
            <div class="post-footer">
                {% if post.created_at != post.updated_at %}
                <span class="updated-badge">ç·¨é›†æ¸ˆã¿</span>
                {% endif %}
                <div class="post-actions">
                    <a href="{{ url_for('edit', post_id=post.id) }}" class="btn btn-edit">âœï¸ ç·¨é›†</a>
                    <form method="POST" action="{{ url_for('delete', post_id=post.id) }}" style="display: inline;" onsubmit="return confirmDelete()">
                        <button type="submit" class="btn btn-delete">ğŸ—‘ï¸ å‰Šé™¤</button>
                    </form>
                </div>
            </div>
        </article>
        {% endfor %}
    </div>
{% else %}
    <div class="empty-state">
        <div class="empty-icon">ğŸ“­</div>
        <h3>æŠ•ç¨¿ãŒã‚ã‚Šã¾ã›ã‚“</h3>
        <p>æœ€åˆã®æŠ•ç¨¿ã‚’ä½œæˆã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼</p>
        <a href="{{ url_for('create') }}" class="btn btn-primary btn-large">æ–°è¦æŠ•ç¨¿ã‚’ä½œæˆ</a>
    </div>
{% endif %}
{% endblock %}